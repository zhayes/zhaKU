(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{195:function(e,t,i){},196:function(e,t,i){},213:function(e,t,i){"use strict";var a=i(195);i.n(a).a},214:function(e,t,i){"use strict";var a=i(196);i.n(a).a},222:function(e,t,i){"use strict";i.r(t);i(55),i(17),i(20),i(25);var a=i(10),s=(i(182),i(212)),l={name:"Picker",data:function(){return{items:this.data,show:this.visible,selectedIndex:0}},props:{index:{type:Number},data:{type:Array,default:function(){return[]}},value:{type:[String,Number]},valueKey:{type:String,default:"id"},labelKey:{type:String,default:"name"},disabled:{type:Boolean,default:!1}},watch:{data:function(e){var t=this;this.items=e,this.$nextTick(function(){t.scroll?(t.scroll.refresh(),t.scroll.wheelTo(0)):t.scroll=t.createScroll()})},value:function(e){var t=this;this.$nextTick(function(){t.scroll.refresh(),t.setSelectedIndex(e)})},disabled:function(e){e?this.scroll.disable():this.scroll.enable()}},methods:{setSelectedIndex:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.value,t=0;t<this.data.length;t++)if(this.data[t][this.valueKey]===e)return void(this.selectedIndex=t);this.selectedIndex=void 0},createScroll:function(){var e=this,t=new s.a(this.$refs.wrapper,{wheel:{selectedIndex:this.selectedIndex},probeType:3,deceleration:.002,scrollY:!0,rotare:6,zoom:!0});return t.on("beforeScrollStart",function(){e.$emit("beforeScrollStart",t,e)}),t.on("scrollEnd",function(){var t=e.scroll.getSelectedIndex();e.selectedIndex=t,e.$emit("change",e.data[e.selectedIndex])}),t}},mounted:function(){var e=this;this.setSelectedIndex(),this.$nextTick(function(){e.scroll?e.scroll.refresh():e.scroll=e.createScroll()})}},n=(i(213),i(1)),c={name:"Picker",data:function(){return{values:Object(a.a)(this.value),show:this.visible,pickerItemDatas:[],disabled:[!1,!1,!1]}},components:{"picker-item":Object(n.a)(l,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"wrapper",staticClass:"z-item-wrapper"},[i("div",{staticClass:"z-item-content"},e._l(e.items,function(t){return i("div",{key:t[e.valueKey],staticClass:"z-item"},[e._v(e._s(t[e.labelKey]))])}),0)])},[],!1,null,"06065334",null).exports},props:{data:{type:Array,default:function(){return[]}},visible:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}},valueKey:{type:String,default:"id"},labelKey:{type:String,default:"name"},childrenKey:{type:String,default:"children"},title:{type:String},showModel:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0}},methods:{cnacel:function(){this.$emit("cancel")},confirm:function(){var e=this,t=[];this.pickerItemDatas.map(function(i){i.map(function(i){e.values.map(function(a){i[e.valueKey]===a&&t.push(i)})})}),this.$emit("confirm",this.values,t)},clickModel:function(){this.maskClosable&&this.cnacel()},pickerChange:function(e,t){var i=this;if(this.values.map(function(t,a){a!=e&&(i.disabled[a]=!1)}),this.disabled=Object(a.a)(this.disabled),t&&(this.$set(this.values,e,t[this.valueKey]),e!=this.values.length-1)){this.$set(this.pickerItemDatas,e+1,t[this.childrenKey]),this.$set(this.values,e+1,this.pickerItemDatas[e+1][0][this.valueKey]);for(var s=e+2;s<this.pickerItemDatas.length;s++)this.$set(this.pickerItemDatas,s,this.pickerItemDatas[s-1][0][this.childrenKey]),this.$set(this.values,s,this.pickerItemDatas[s][0][this.valueKey])}},beforeScrollStart:function(e,t){var i=this,s=this.values.indexOf(t.value);this.values.map(function(e,t){t!=s&&(i.disabled[t]=!0)}),this.disabled=Object(a.a)(this.disabled)},getSelectedItemsByData:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=++t,s=this.values[a],l=0;l<e.length;l++){if(!s)return i.push(e[0]),e[l][this.childrenKey]&&e[l][this.childrenKey].length&&this.getSelectedItemsByData(e[l][this.childrenKey],a,i),i;if(e[l][this.valueKey]===s)return i.push(e[l]),e[l][this.childrenKey]&&e[l][this.childrenKey].length&&this.getSelectedItemsByData(e[l][this.childrenKey],a,i),i}return i},setPickerData:function(){var e=this,t=this.getSelectedItemsByData();t.map(function(i,a){e.pickerItemDatas[a]=0===a?e.data:t[a-1][e.childrenKey],e.values[a]=i[e.valueKey]})}},watch:{value:function(e){this.values=Object(a.a)(e),this.setPickerData()},visible:function(e){var t=this;this.values=Object(a.a)(this.value),this.setPickerData(),this.values.length||this.pickerItemDatas.map(function(e,i){var a=e[t.valueKey];t.values[i]=a}),this.show=e}}},r=(i(214),Object(n.a)(c,function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.show?i("div",{class:{"z-picker-model":e.showModel},on:{click:function(t){return t.stopPropagation(),e.clickModel(t)}}},[i("div",{ref:"picker",staticClass:"z-picker-wrapper",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"title"},[i("div",{staticStyle:{fontWeight:"600"},on:{click:e.cnacel}},[e._v("取消")]),e._v(" "),i("div",{staticStyle:{color:"#333"}},[e._v(e._s(e.title))]),e._v(" "),i("div",{staticStyle:{fontWeight:"600"},on:{click:e.confirm}},[e._v("确定")])]),e._v(" "),i("div",{staticClass:"scroll"},e._l(e.values,function(t,a){return i("div",{key:a,staticClass:"pciker-item"},[i("picker-item",{attrs:{data:e.pickerItemDatas[a],value:t,valueKey:e.valueKey,labelKey:e.labelKey,disabled:e.disabled[a]},on:{beforeScrollStart:e.beforeScrollStart,change:function(t){return e.pickerChange(a,t)}}})],1)}),0)])]):e._e()},[],!1,null,"0dead6a0",null).exports),o=i(203),u={components:{"z-picker":r,"z-button":i(184).a},data:function(){return{pickerVisible:!1,pickerValue:[],pcaItems:[],dataList:o.a}},methods:{togglePicker:function(){this.pickerVisible=!this.pickerVisible},pickerChange:function(e,t){this.pickerValue=e,this.pcaItems=t,this.pickerVisible=!1},cancelPicker:function(){this.pickerVisible=!1}}},h=Object(n.a)(u,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("p",[e._v(e._s(e.pcaItems[0]?e.pcaItems[0].name:"- 省 -")+" / "+e._s(e.pcaItems[1]?e.pcaItems[1].name:"- 市 -")+" / "+e._s(e.pcaItems[2]?e.pcaItems[2].name:"- 区 -"))]),e._v(" "),i("z-button",{on:{click:e.togglePicker}},[e._v("显示picker")]),e._v(" "),i("p",[i("z-picker",{attrs:{visible:e.pickerVisible,value:e.pickerValue,data:e.dataList,valueKey:"code",title:"请选择省市区"},on:{confirm:e.pickerChange,cancel:e.cancelPicker}})],1)],1)},[],!1,null,null,null);t.default=h.exports}}]);